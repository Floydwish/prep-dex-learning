# 永续合约 DEX 学习问题集

## 📚 目录

- [通用问题](#通用问题)
  - [Perp DEX 基础概念与定义](#perp-dex-基础概念与定义)
  - [交易机制与用户体验](#交易机制与用户体验)
  - [经济模型与流动性](#经济模型与流动性)
  - [风险管理与安全性](#风险管理与安全性)
  - [竞争与市场定位](#竞争与市场定位)
  - [社区、治理与路线图](#社区治理与路线图)
  - [高级功能与创新](#高级功能与创新)
  - [挑战、机遇与未来](#挑战机遇与未来)
- [开发者问题](#开发者问题)
  - [智能合约与核心逻辑](#智能合约与核心逻辑)
  - [技术架构与实现](#技术架构与实现)
  - [预言机与市场数据](#预言机与市场数据)
  - [流动性与风险管理](#流动性与风险管理)
  - [前端与用户体验](#前端与用户体验)
  - [安全与测试](#安全与测试)

---

## 通用问题

### Perp DEX 基础概念与定义

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 1 | [什么是永续合约？它与传统期货在哪些方面存在根本性差异？](#1-什么是永续合约) | ✅ 已完成 |
| 2 | [Perp DEX 的核心存在意义或价值主张是什么？它解决了哪些现有的市场痛点？](#2-perp-dex-的核心价值主张) | ✅ 已完成 |
| 3 | [Perp DEX 与现货 DEX 的主要区别在交易机制、流动性和风险管理上分别体现在哪里？](#3-perp-dex-与现货-dex-的区别) | ✅ 已完成 |
| 4 | [永续合约为什么必须依赖资金费率（Funding Rate）机制？其目的是什么？](#4-资金费率机制的目的) | ✅ 已完成 |
| 5 | [资金费率是如何计算的？（详细的数学模型）](#5-资金费率的计算) | ✅ 已完成 |
| 6 | 资金费率的结算周期通常是多久？不同的结算周期对市场行为有何影响？ | ⏳ 待完善 |
| 7 | 什么是标记价格（Mark Price）？它在 Perp DEX 中扮演什么角色？如何计算以防止操纵？ | ⏳ 待完善 |
| 8 | 什么是指数价格（Index Price）？它由哪些数据源构成？为什么它很重要？ | ⏳ 待完善 |
| 9 | 什么是初始保证金（Initial Margin）？它与杠杆倍数有何关系？ | ⏳ 待完善 |
| 10 | 什么是维持保证金（Maintenance Margin）？它通常是初始保证金的多少比例？ | ⏳ 待完善 |
| 11 | 什么是强制平仓（Liquidation）？其触发条件是什么？ | ⏳ 待完善 |
| 12 | 保证金率（Margin Ratio）是如何计算的？它如何随头寸盈亏而变化？ | ⏳ 待完善 |
| 13 | Perp DEX 如何处理杠杆交易？其杠杆倍数的范围通常是多少？ | ⏳ 待完善 |
| 14 | 什么是多头头寸（Long Position）和空头头寸（Short Position）？ | ⏳ 待完善 |
| 15 | 什么是名义价值（Notional Value）？它在保证金计算中如何使用？ | ⏳ 待完善 |
| 16 | 什么是交易对（Trading Pair）？Perp DEX 通常支持哪些交易对？ | ⏳ 待完善 |
| 17 | 什么是开放利率（Open Interest）？它对 Perp DEX 有什么指示意义？ | ⏳ 待完善 |
| 18 | Perp DEX 中是否有最小交易规模限制？ | ⏳ 待完善 |
| 19 | Perp DEX 的目标用户群体是谁？ | ⏳ 待完善 |
| 20 | Perp DEX 的法律和监管环境如何？ | ⏳ 待完善 |

---

## 1. 什么是永续合约？

**问题**: 什么是永续合约？它与传统期货在哪些方面存在根本性差异？

### 🎯 核心答案

> **永续合约** 是一种没有到期日的衍生品，利用资金费率与标的资产的现货价格保持挂钩。
> 
> **简单来说，永续合约就是"永不过期的期货合约"**。

### 📊 核心差异对比

> | 特征 | 永续合约 | 传统期货 |
> |------|----------|----------|
> | **到期日** | 无到期日，可无限期持有 | 有固定到期日，需展期 |
> | **价格锚定** | 资金费率机制 | 到期压力 |
> | **杠杆倍数** | 10-100 倍 | 较低，受监管限制 |
> | **交易时间** | 7×24 小时 | 特定时段 |
> | **结算方式** | 现金结算 | 现金或实物交割 |

### 💡 实例说明：资金费率机制

> **📈 情况1：永续价格高于现货**
> - 💰 比特币现货 30,000 美元，永续价格 30,100 美元
> - 🔄 **运作原理**：做多的人给做空的人支付费用 → 鼓励更多人做空 → 增加卖压 → 价格下降 → 回归现货价格
> 
> **📉 情况2：永续价格低于现货**  
> - 💰 比特币现货 30,000 美元，永续价格 29,900 美元
> - 🔄 **运作原理**：做空的人给做多的人支付费用 → 鼓励更多人做多 → 增加买压 → 价格上升 → 回归现货价格




---

## 2. Perp DEX 的核心价值主张

**问题**: Perp DEX 的核心存在意义或价值主张是什么？它解决了哪些现有的市场痛点？

### 🎯 核心答案

> **Perp DEX** 将复杂的永续合约交易带入去中心化环境，解决传统中心化衍生品交易的关键痛点。

### 📊 核心价值对比

> | 价值主张 | 传统 CEX | Perp DEX |
> |----------|----------|----------|
> | **资金托管** | 交易所托管，存在跑路风险 | 用户自托管，完全控制资产 |
> | **访问门槛** | 需要 KYC，有地域限制 | 无许可访问，全球可用 |
> | **透明度** | 内部操作不透明 | 链上公开，完全透明 |
> | **审查风险** | 可能被冻结账户 | 抗审查，难以被阻止 |
> | **创新性** | 功能有限 | 可组合性强，创新丰富 |

### 💡 实例说明：解决的核心痛点

> **🏦 资金安全痛点**
> - **传统 CEX**：FTX 崩溃事件，用户资金损失数十亿美元
> - **Perp DEX**：用户始终控制私钥，无交易对手风险
> 
> **🌍 全球访问痛点**
> - **传统 CEX**：部分地区无法使用，需要繁琐验证
> - **Perp DEX**：连接钱包即可交易，无地域限制
> 
> **🔍 透明度痛点**
> - **传统 CEX**：内部操作不透明，用户无法验证
> - **Perp DEX**：所有操作链上可见，完全透明可信

## 3. Perp DEX 与现货 DEX 的区别

**问题**: Perp DEX 与现货 DEX 的主要区别在交易机制、流动性和风险管理上分别体现在哪里？

### 🎯 核心答案

> **Perp DEX** 交易永续合约（投机价格），**现货 DEX** 交易实际代币（买卖资产）。就像期货市场 vs 现货市场的区别。

### 📊 核心差异对比

> | 维度 | Perp DEX | 现货 DEX |
> |------|----------|----------|
> | **交易对象** | 永续合约（无到期日） | 实际代币资产 |
> | **杠杆交易** | 支持高杠杆（10-100 倍） | 通常无杠杆或低杠杆 |
> | **价格机制** | 通过资金费率锚定现货 | 直接反映市场供需 |
> | **流动性需求** | 需要 LP 承担交易对手风险 | LP 主要面临无常损失 |
> | **风险管理** | 复杂的清算和保证金系统 | 相对简单的滑点控制 |
> | **资金效率** | 高杠杆提高资金效率 | 需要实际资产作为流动性 |

### 💡 实例说明：关键差异

> **🏦 交易机制差异**
> - **Perp DEX**：像期货交易，做多比特币价格，无需持有实际比特币
> - **现货 DEX**：像股票交易，买入实际比特币，获得所有权
> 
> **💰 流动性风险差异**
> - **Perp DEX**：LP 承担交易者盈亏，就像做市商承担价格风险
> - **现货 DEX**：LP 面临无常损失，就像汇率波动影响外汇储备
> 
> **⚖️ 风险管理差异**
> - **Perp DEX**：需要清算机制，就像期货强制平仓
> - **现货 DEX**：主要控制滑点，就像股票交易的冲击成本

---

## 4. 资金费率机制的目的

**问题**: 永续合约为什么必须依赖资金费率（Funding Rate）机制？其目的是什么？

### 🎯 核心机制

> **资金费率机制** 确保永续合约价格锚定

| 目的 | 机制 | 效果 |
|------|------|------|
| **价格锚定** | 永续价格偏离现货时调整费率 | 保持永续价格接近现货价格 |
| **平衡供需** | 多头过多时收取正费率 | 激励空头，抑制多头 |
| **风险转移** | 通过费率在买卖双方间转移风险 | 避免单边风险积累 |
| **市场稳定** | 防止价格过度偏离 | 维护市场健康运行 |

### 📝 详细解析

> **核心目的**
> 资金费率机制是永续合约的核心设计，确保价格锚定和市场稳定

**🎯 关键功能**：

1. **价格锚定** → 当永续价格高于现货时，多头支付空头费率，鼓励空头开仓
2. **供需平衡** → 通过费率调节市场参与者行为，平衡多空持仓比例
3. **风险分担** → 将市场风险在多头和空头间合理分配，避免风险集中
4. **市场稳定** → 防止永续价格与现货价格过度偏离，维护市场有效性

---

## 5. 资金费率的计算

**问题**: 资金费率是如何计算的？（详细的数学模型）

### 🎯 核心公式

> **资金费率计算** 数学模型

| 参数 | 公式 | 说明 |
|------|------|------|
| **基础费率** | Premium Index = Max(0, (Impact Bid Price - Mark Price) / Mark Price - 0.05%) + Min(0, (Impact Ask Price - Mark Price) / Mark Price + 0.05%) | 反映市场供需失衡程度 |
| **资金费率** | Funding Rate = Premium Index + Clamp(Interest Rate - Premium Index, 0.05%, -0.05%) | 基础费率加上利率调整 |
| **资金费用** | Funding Fee = Position Size × Mark Price × Funding Rate | 实际支付的费用 |

### 📝 详细解析

> **计算流程**
> 资金费率计算涉及多个步骤，确保价格锚定和市场稳定

**🔢 计算步骤**：

1. **Premium Index 计算** → 衡量永续价格与现货价格的偏离程度
2. **Interest Rate 调整** → 考虑无风险利率的影响
3. **费率限制** → 通常限制在 ±0.75% 范围内
4. **结算周期** → 通常每8小时结算一次

**💡 实际应用**：
- 永续价格比现货价格高0.1%时，多头支付空头资金费率
- 费率每8小时调整一次，确保价格锚定效果
- 资金费用直接从交易者的保证金中扣除或添加

---

### 交易机制与用户体验

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 21 | Perp DEX 有哪些主流的交易模型？（例如 vAMM, 订单簿/混合订单簿, 单边流动性池） | ⏳ 待完善 |
| 22 | 不同交易模型对用户交易的滑点（slippage）有何影响？ | ⏳ 待完善 |
| 23 | 交易者如何在 Perp DEX 上开仓和平仓？具体步骤是什么？ | ⏳ 待完善 |
| 24 | Perp DEX 通常支持哪些订单类型？（市价单、限价单、止损单、止盈单、GTT/GTC 等） | ⏳ 待完善 |
| 25 | 这些订单类型是如何在链上或链下实现的？ | ⏳ 待完善 |
| 26 | 交易者如何提供保证金？支持哪些加密货币作为保证金资产？ | ⏳ 待完善 |
| 27 | 盈亏（PnL）是如何计算和显示的？未实现盈亏和已实现盈亏有何区别？ | ⏳ 待完善 |
| 28 | 用户为什么会选择 Perp DEX 而不是中心化交易所 (CEX) 的永续合约？优势点在哪？ | ⏳ 待完善 |
| 29 | Perp DEX 在用户体验上存在哪些挑战？（例如 Gas 费、速度、易用性） | ⏳ 待完善 |
| 30 | 如何在移动设备上使用 Perp DEX？是否有原生应用或优化过的 DApp 界面？ | ⏳ 待完善 |
| 31 | 用户如何追踪自己的头寸、保证金状况和历史交易记录？ | ⏳ 待完善 |
| 32 | Perp DEX 如何处理 Gas 费用，使其对用户更友好？（例如 Gas 补贴、Gasless 交易） | ⏳ 待完善 |
| 33 | 是否支持批量交易或组合交易？ | ⏳ 待完善 |
| 34 | 用户是否可以自定义交易视图和指标？ | ⏳ 待完善 |
| 35 | Perp DEX 的前端界面是否开源？ | ⏳ 待完善 |
| 36 | 用户在交易过程中遇到问题如何获得支持？ | ⏳ 待完善 |
| 37 | 不同网络（如主网和 Layer2）之间用户体验的差异是什么？ | ⏳ 待完善 |
| 38 | Perp DEX 如何处理用户身份验证（KYC）或反洗钱（AML）问题（如果协议需要）？ | ⏳ 待完善 |
| 39 | 是否有模拟交易或测试网供新用户练习？ | ⏳ 待完善 |
| 40 | 协议如何教育用户理解永续合约和风险？ | ⏳ 待完善 |

### 经济模型与流动性

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 41 | Perp DEX 的流动性是如何提供的？（例如通过 LP 存入资金池、做市商在订单簿上提供流动性） | ⏳ 待完善 |
| 42 | 流动性提供者 (LP) 的主要风险是什么？（例如无常损失、交易者风险、清算风险） | ⏳ 待完善 |
| 43 | LP 的收益来源有哪些？（交易手续费、资金费率、代币奖励、清算收入分成等） | ⏳ 待完善 |
| 44 | 如何激励 LP 提供深度和稳定的流动性？（代币奖励、手续费折扣、回购等） | ⏳ 待完善 |
| 45 | 资金费率在 Perp DEX 的经济模型中扮演什么核心角色？它如何影响 LP 和交易者的行为？ | ⏳ 待完善 |
| 46 | 协议本身的收入来源有哪些？（例如交易手续费、清算费、存款/取款费、预言机服务费） | ⏳ 待完善 |
| 47 | 协议收入如何分配？（例如给代币持有者、LP、协议 DAO、开发团队、保险基金） | ⏳ 待完善 |
| 48 | Perp DEX 的代币经济学是如何设计的？（例如治理代币、费用分享代币、锁仓机制） | ⏳ 待完善 |
| 49 | 协议代币是否用于支付费用或作为抵押品？ | ⏳ 待完善 |
| 50 | 代币的锁仓机制（Ve-Tokenomics）如何影响治理和激励？ | ⏳ 待完善 |
| 51 | 协议如何应对极端资金费率可能导致的资金枯竭或不平衡？ | ⏳ 待完善 |
| 52 | 如何衡量一个 Perp DEX 的流动性健康度？（如池子深度、交易量、滑点） | ⏳ 待完善 |
| 53 | 资金费率是否有上限或下限？这些限制如何设定？ | ⏳ 待完善 |
| 54 | 协议是否采取措施应对"巨鲸"（Whale）交易者对流动性池的冲击？ | ⏳ 待完善 |
| 55 | 是否存在 LP 的退出机制，以及退出是否有锁定期或费用？ | ⏳ 待完善 |
| 56 | LP 收益的透明度如何？是否有仪表盘可以查看收益和风险？ | ⏳ 待完善 |
| 57 | 协议如何处理跨链流动性？ | ⏳ 待完善 |
| 58 | 协议的代币是否有通胀或通缩模型？ | ⏳ 待完善 |
| 59 | 治理代币的价值捕获机制是什么？ | ⏳ 待完善 |
| 60 | 协议的国库（Treasury）资金来源和使用策略是什么？ | ⏳ 待完善 |

### 风险管理与安全性

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 61 | Perp DEX 面临哪些主要风险？（智能合约风险、预言机风险、LP 风险、清算风险、经济模型风险、审查风险） | ⏳ 待完善 |
| 62 | 如何防范智能合约漏洞？除了审计和 Bug Bounty，还有哪些措施？ | ⏳ 待完善 |
| 63 | 如何应对闪贷攻击（Flash Loan Attack）？例如在价格预言机或清算过程中？ | ⏳ 待完善 |
| 64 | 清算机制如何确保公平、透明和高效？ | ⏳ 待完善 |
| 65 | 是否存在清算机器人？它们如何参与清算过程？ | ⏳ 待完善 |
| 66 | 清算人如何获得激励？清算费用如何分配？ | ⏳ 待完善 |
| 67 | 如何避免清算过程中的前端运行（Front-Running）？ | ⏳ 待完善 |
| 68 | 是否有保险基金或安全模块来保护 LP 或交易者免受极端损失？ | ⏳ 待完善 |
| 69 | 保险基金的资金来源是什么？由谁管理？如何触发赔付？ | ⏳ 待完善 |
| 70 | 如何防止价格操纵，特别是通过闪电贷或低流动性交易对？ | ⏳ 待完善 |
| 71 | 如何处理极端市场波动，如"黑天鹅事件"或"死亡螺旋"（Death Spiral）？ | ⏳ 待完善 |
| 72 | Perp DEX 如何应对区块链网络拥堵或 Gas 费用飙升？ | ⏳ 待完善 |
| 73 | 协议是否有应急停止开关（Pause Function）？在什么条件下可以激活？ | ⏳ 待完善 |
| 74 | 谁拥有激活应急停止开关的权限？ | ⏳ 待完善 |
| 75 | 是否有风险参数可供治理调整？例如维持保证金率、清算惩罚、最大杠杆倍数、资金费率间隔？ | ⏳ 待完善 |
| 76 | 协议如何监控自身的健康状况和潜在风险？ | ⏳ 待完善 |
| 77 | 是否有风险仪表盘（Risk Dashboard）供用户查看关键指标？ | ⏳ 待完善 |
| 78 | 协议如何处理无常损失（Impermanent Loss）对 LP 的影响？ | ⏳ 待完善 |
| 79 | 是否有机制来应对巨额或恶意头寸对流动性池的影响？ | ⏳ 待完善 |
| 80 | Perp DEX 如何处理与外部协议（如借贷协议）的潜在交互风险？ | ⏳ 待完善 |

### 竞争与市场定位

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 81 | Perp DEX 的主要竞争对手是谁？（包括 CEX 和其他 Perp DEX） | ⏳ 待完善 |
| 82 | 与 CEX 相比，该 Perp DEX 的核心竞争优势和劣势分别是什么？ | ⏳ 待完善 |
| 83 | 与其他 Perp DEX 相比，该协议的独特卖点（Unique Selling Proposition, USP）是什么？ | ⏳ 待完善 |
| 84 | 如何吸引新用户和机构投资者？ | ⏳ 待完善 |
| 85 | 协议的目标市场是什么？（例如高频交易者、长线持有者、特定链上的用户） | ⏳ 待完善 |
| 86 | 协议的市场份额是多少？交易量排名如何？ | ⏳ 待完善 |
| 87 | 如何应对监管环境的变化？（例如对去中心化交易所的监管收紧） | ⏳ 待完善 |
| 88 | 是否有合作伙伴关系或生态系统集成？这些合作如何增强协议的价值？ | ⏳ 待完善 |
| 89 | Perp DEX 计划如何长期保持竞争力？（例如通过技术创新、社区建设、产品多样化） | ⏳ 待完善 |
| 90 | 协议在哪个地理区域或用户群体中更受欢迎？ | ⏳ 待完善 |
| 91 | 未来 Perp DEX 市场的发展趋势是什么？协议如何适应这些趋势？ | ⏳ 待完善 |
| 92 | 如何应对来自 CEX 的竞争压力？ | ⏳ 待完善 |
| 93 | 是否有计划支持更多资产类型，例如真实世界资产（RWA）或传统股票？ | ⏳ 待完善 |
| 94 | 如何通过品牌建设和营销策略脱颖而出？ | ⏳ 待完善 |
| 95 | 协议的成本结构如何？与其他竞争对手相比是否有优势？ | ⏳ 待完善 |

### 社区、治理与路线图

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 96 | 协议的社区是如何组织的？活跃度如何？ | ⏳ 待完善 |
| 97 | 治理代币的持有者拥有哪些投票权？ | ⏳ 待完善 |
| 98 | 治理代币的投票权重如何计算？ | ⏳ 待完善 |
| 99 | 如何提交治理提案？提案需要满足哪些条件？ | ⏳ 待完善 |
| 100 | 治理提案的投票周期和执行流程是什么？ | ⏳ 待完善 |
| 101 | 协议是否有社区论坛、Discord 或 Telegram 群组？活跃度如何？ | ⏳ 待完善 |
| 102 | 核心开发团队是谁？他们的背景和经验如何？ | ⏳ 待完善 |
| 103 | 团队的透明度如何？是否有匿名团队成员？ | ⏳ 待完善 |
| 104 | 路线图（Roadmap）的近期和远期目标是什么？进度如何？ | ⏳ 待完善 |
| 105 | 如何衡量协议的去中心化程度？（例如代币持有者分布、验证者数量、治理参与率） | ⏳ 待完善 |
| 106 | 是否有激励计划或奖励机制来吸引开发者和社区贡献者？ | ⏳ 待完善 |
| 107 | 协议如何处理与社区的沟通和反馈？是否有公开的 AMAs 或治理会议？ | ⏳ 待完善 |
| 108 | DAO 的资金管理和国库（Treasury）状况如何？资金使用是否透明？ | ⏳ 待完善 |
| 109 | DAO 如何确保其决策能被协议有效执行？ | ⏳ 待完善 |
| 110 | 是否有委派（Delegation）机制来鼓励治理参与？ | ⏳ 待完善 |

### 高级功能与创新

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 111 | 是否支持多种抵押品类型？如何管理这些抵押品的风险（例如价格波动）？ | ⏳ 待完善 |
| 112 | 是否有社交交易（Social Trading）或跟单交易功能？ | ⏳ 待完善 |
| 113 | 是否支持跨链交易或资产？（例如通过桥接或原子交换） | ⏳ 待完善 |
| 114 | 是否有期权或其他衍生品交易功能集成？ | ⏳ 待完善 |
| 115 | 如何利用 NFT 或其他链上资产与 Perp DEX 互动？（例如 NFT 作为杠杆凭证） | ⏳ 待完善 |
| 116 | 是否有新的资金费率计算模型或调整机制？ | ⏳ 待完善 |
| 117 | 如何提供更灵活的杠杆选择？（例如动态杠杆、自适应杠杆） | ⏳ 待完善 |
| 118 | 是否有针对机构投资者的特殊功能或服务？ | ⏳ 待完善 |
| 119 | 是否探索了无滑点交易（Zero-Slippage）的可能性？ | ⏳ 待完善 |
| 120 | 协议未来的潜在创新方向是什么？（例如预测市场、去中心化结构化产品） | ⏳ 待完善 |
| 121 | 是否支持限价订单簿上的做市策略自动化工具？ | ⏳ 待完善 |
| 122 | 是否有 API/SDK 支持算法交易？ | ⏳ 待完善 |
| 123 | 是否支持可定制的交易界面？ | ⏳ 待完善 |
| 124 | 协议如何利用 AI/ML 技术改进价格预测、风险管理或用户体验？ | ⏳ 待完善 |
| 125 | 是否有计划集成更多的预言机服务以提高数据冗余和准确性？ | ⏳ 待完善 |

### 挑战、机遇与未来

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 126 | Perp DEX 目前面临的最大技术挑战是什么？ | ⏳ 待完善 |
| 127 | Perp DEX 目前面临的最大监管挑战是什么？ | ⏳ 待完善 |
| 128 | 如何平衡去中心化、效率和安全性这三者之间的权衡？ | ⏳ 待完善 |
| 129 | 如何在高度竞争的市场中脱颖而出并保持领先？ | ⏳ 待完善 |
| 130 | 如何吸引并留住交易量大的专业交易者和机构？ | ⏳ 待完善 |
| 131 | Perp DEX 在去中心化金融生态系统（DeFi Ecosystem）中扮演什么角色？ | ⏳ 待完善 |
| 132 | 永续合约的未来发展趋势是什么？（例如，与 RWA 的结合、更复杂的衍生品） | ⏳ 待完善 |
| 133 | 如何应对不断变化的 DeFi 趋势和技术革新？ | ⏳ 待完善 |
| 134 | Perp DEX 是否能最终超越中心化的衍生品市场，成为主流？ | ⏳ 待完善 |
| 135 | Perp DEX 距离成为金融基础设施的下一个基石还有多远？需要克服哪些关键障碍？ | ⏳ 待完善 |

---

## 开发者问题

### 智能合约与核心逻辑

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 1 | 一个永续DEX需要哪些关键的智能合约模块？如何设计其架构，以确保职责分离？ | ⏳ 待完善 |
| 2 | 如何使用代理模式（proxy pattern）设计智能合约架构，以允许未来升级？ | ⏳ 待完善 |
| 3 | 如何设计永续DEX的智能合约，以最大化其可组合性？ | ⏳ 待完善 |
| 4 | 设计openPosition()智能合约函数。它应该接受哪些参数，必须执行哪些检查？ | ⏳ 待完善 |
| 5 | 智能合约应如何存储和管理每个资产的可变杠杆限制？ | ⏳ 待完善 |
| 6 | 详细描述modifyCollateral()函数所需的一系列原子操作和状态变化。 | ⏳ 待完善 |
| 7 | 详细说明closePosition()函数的实现。它如何计算最终盈亏（P&L）？ | ⏳ 待完善 |
| 8 | 如何实现一个节省Gas且健壮的liquidate()函数？ | ⏳ 待完善 |
| 9 | 清算罚金应如何设计？收取的费用流向何处？ | ⏳ 待完善 |
| 10 | 如何设计清算机制来防止或减轻级联清算的影响？ | ⏳ 待完善 |
| 11 | updateFundingRate()函数如何使用市场数据计算资金费率？ | ⏳ 待完善 |
| 12 | 如何高效分配资金支付而不遍历所有头寸？ | ⏳ 待完善 |
| 13 | 协议如何限制或减缓资金费率波动？优缺点是什么？ | ⏳ 待完善 |

### 技术架构与实现

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 14 | Perp DEX 的核心技术栈是什么？（智能合约语言、前端框架、数据库等） | ⏳ 待完善 |
| 15 | 部署在哪一个或哪些区块链上？为什么选择这些链？ | ⏳ 待完善 |
| 16 | 是否使用了 Layer 2 扩展解决方案？（例如 Arbitrum, Optimism, zkSync, StarkWare） | ⏳ 待完善 |
| 17 | Layer 2 方案如何具体解决了哪些扩展性问题？ | ⏳ 待完善 |
| 18 | 核心智能合约有哪些？它们各自的功能和交互逻辑是什么？ | ⏳ 待完善 |
| 19 | 智能合约的架构是模块化的吗？如何实现可升级性？ | ⏳ 待完善 |
| 20 | 合约代码是否开源？在哪个代码库上可以找到？ | ⏳ 待完善 |
| 21 | 如何确保智能合约的安全性？是否有正式验证或形式化验证？ | ⏳ 待完善 |
| 22 | 是否有第三方安全审计报告？报告结果如何？ | ⏳ 待完善 |
| 23 | 是否有 bug bounty 计划？如果发现漏洞如何报告？ | ⏳ 待完善 |
| 24 | 如何处理链上 Gas 费用和交易速度？是否有 Gasless 交易或 Gas 补贴？ | ⏳ 待完善 |
| 25 | 是否有链上治理机制？DAO 如何运作？ | ⏳ 待完善 |
| 26 | 治理提案的提交、投票和执行流程是什么？ | ⏳ 待完善 |
| 27 | 协议如何处理升级和维护？是否有代理合约模式？ | ⏳ 待完善 |
| 28 | 是否有公共 API 供第三方应用、机器人和分析工具集成？ | ⏳ 待完善 |
| 29 | API 的数据刷新频率和可靠性如何？ | ⏳ 待完善 |
| 30 | 协议如何处理多签钱包和关键操作的权限管理？ | ⏳ 待完善 |
| 31 | 是否有去中心化身份（DID）或隐私增强技术集成？ | ⏳ 待完善 |
| 32 | 协议如何处理区块重组（Reorg）和链分叉？ | ⏳ 待完善 |
| 33 | 如何存储链上和链下数据？ | ⏳ 待完善 |
| 34 | 智能合约的存储布局是否高效？ | ⏳ 待完善 |
| 35 | 协议是否使用了 ZK-Rollups 或 Optimistic Rollups？其优缺点是什么？ | ⏳ 待完善 |
| 36 | 合约代码的测试覆盖率如何？ | ⏳ 待完善 |
| 37 | 是否有 CI/CD 流程来确保代码质量和部署安全？ | ⏳ 待完善 |
| 38 | 协议是否考虑使用账户抽象（Account Abstraction）来优化用户体验？ | ⏳ 待完善 |

### 预言机与市场数据

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 39 | 是否使用了去中心化预言机？使用了哪种预言机（例如 Chainlink, Pyth）？为什么？ | ⏳ 待完善 |
| 40 | 预言机如何处理价格波动、数据延迟和潜在的价格操纵？ | ⏳ 待完善 |
| 41 | 如何处理预言机失效或提供错误数据的情况？（例如心跳机制、去中心化验证） | ⏳ 待完善 |
| 42 | 如何实现链下订单簿与链上结算的混合模式？（例如 dYdX） | ⏳ 待完善 |
| 43 | 链下部分如何保证可信和防篡改？ | ⏳ 待完善 |
| 44 | 永续DEX如何与Chainlink或Pyth等去中心化预言机集成？关键数据字段是什么？ | ⏳ 待完善 |
| 45 | 协议如何处理潜在的价格延迟？哪些机制确保清算使用足够新鲜的价格？ | ⏳ 待完善 |
| 46 | 如何防止或减轻闪电贷攻击？如何使用TWAP预言机？ | ⏳ 待完善 |
| 47 | 设计链下匹配引擎会用什么数据结构？提交和取消订单的API如何设计？ | ⏳ 待完善 |
| 48 | 如何防止链下序列器审查或抢跑订单，同时保持速度接近中心化交易所？ | ⏳ 待完善 |
| 49 | 混合模型的架构是怎样的？链下交易如何最终在链上完成并保证安全？ | ⏳ 待完善 |
| 50 | 在ZK-Rollup上构建永续DEX，其合约逻辑和交易流程与主网有何不同？ | ⏳ 待完善 |
| 51 | 考虑到挑战期延迟，如何在Optimistic Rollup上设计永续DEX的清算机制？ | ⏳ 待完善 |

### 流动性与风险管理

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 52 | 描述单边池合约架构。如何处理多头空头从同一池提取流动性？ | ⏳ 待完善 |
| 53 | 如何计算LPs池子价值？需要哪些状态变量？LPs面临哪些风险？ | ⏳ 待完善 |
| 54 | 协议如何实施动态费用或其他激励措施来平衡多头和空头？ | ⏳ 待完善 |
| 55 | 如何设计实现"保险基金"合约？如何筹集？何时使用？ | ⏳ 待完善 |
| 56 | 计算初始和维持保证金的关键公式是什么？如何在Solidity中实现？ | ⏳ 待完善 |
| 57 | 交叉保证金管理合约逻辑与孤立保证金有何不同？引入了哪些技术复杂性？ | ⏳ 待完善 |
| 58 | 不同的流动性模型（例如，vAMM、订单簿、合成模型）如何影响永续合约 DEX 上的流动性？ | ⏳ 待完善 |
| 59 | 与传统订单簿相比，将 vAMM 模型用于永续合约的优缺点是什么？ | ⏳ 待完善 |
| 60 | 像 GMX 这样的协议如何利用单个流动性池来支持多种资产的交易？ | ⏳ 待完善 |
| 61 | 像混合 AMM/订单簿系统这样的新模型如何旨在提高资本效率和用户体验？ | ⏳ 待完善 |
| 62 | 跨链流动性如何影响永续合约 DEX 的性能和可访问性？ | ⏳ 待完善 |
| 63 | 永续合约 DEX 正在开发哪些创新的流动性策略来与 CEX 的深度流动性竞争？ | ⏳ 待完善 |
| 64 | 永续合约 DEX 如何改善价格发现，尤其是对于流动性较差的资产？ | ⏳ 待完善 |
| 65 | 专业做市商在为永续合约 DEX 提供流动性方面扮演什么角色？ | ⏳ 待完善 |
| 66 | 协议如何在基于 AMM 的永续合约交易中优化以实现低滑点？ | ⏳ 待完善 |
| 67 | 链上流动性与链下、中心化流动性竞争的长期前景如何？ | ⏳ 待完善 |

### 前端与用户体验

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 68 | 前端如何使用RPC节点和子图查询获取显示订单簿、头寸和历史数据？ | ⏳ 待完善 |
| 69 | 在不影响隐私的情况下，从区块链获取敏感用户特定数据的最佳实践是什么？ | ⏳ 待完善 |
| 70 | 如何使用wagmi.js或ethers.js等库连接交互用户钱包？管理链切换和网络错误的最佳实践是什么？ | ⏳ 待完善 |
| 71 | 如何在前端构建发送复杂交易？如何提供清晰的交易状态反馈？ | ⏳ 待完善 |
| 72 | 用户在浏览永续合约 DEX 的复杂界面和高级功能时面临哪些挑战？ | ⏳ 待完善 |
| 73 | 永续合约 DEX 正在采取哪些措施来降低不熟悉 DeFi 的散户交易者的进入门槛？ | ⏳ 待完善 |
| 74 | 协议如何处理用户教育和提供风险管理资源？ | ⏳ 待完善 |
| 75 | 永续合约 DEX 如何提高其平台的可访问性，特别是对于移动用户？ | ⏳ 待完善 |
| 76 | 目前永续合约 DEX 最需要或缺少的功能是什么？ | ⏳ 待完善 |
| 77 | 永续合约 DEX 如何复制 CEX 上强大的图表和分析工具？ | ⏳ 待完善 |
| 78 | 基于钱包、无账户的模型对用户的熟悉度和采用有何影响？ | ⏳ 待完善 |
| 79 | 协议如何解决与热钱包和用户密钥相关的安全挑战？ | ⏳ 待完善 |
| 80 | 第三方工具和集成在增强用户体验方面将扮演什么角色？ | ⏳ 待完善 |
| 81 | 越来越多的机构投资者进入永续合约 DEX 将如何影响散户交易者的用户体验？ | ⏳ 待完善 |

### 安全与测试

| 序号 | 问题描述 | 问题状态 |
|------|----------|----------|
| 82 | 详细说明永续DEX的综合测试策略。会写哪些测试？哪些不变量必须始终成立？ | ⏳ 待完善 |
| 83 | 会实施哪些链上监控工具策略实时检测可疑活动？ | ⏳ 待完善 |
| 84 | 永续合约 DEX 采取哪些措施来确保其智能合约安全？ | ⏳ 待完善 |
| 85 | 永续合约 DEX 如何防范抢先交易和 MEV（矿工可提取价值）攻击？ | ⏳ 待完善 |
| 86 | 协议如何保证来自去中心化预言机的价格数据流的完整性？ | ⏳ 待完善 |
| 87 | 永续合约 DEX 如何确保清算的公平和透明执行？ | ⏳ 待完善 |
| 88 | 协议有哪些机制可以防止在极端市场事件中发生连锁清算？ | ⏳ 待完善 |
| 89 | 协议如何使用保险基金来保护用户免受不可预见的损失？ | ⏳ 待完善 |
| 90 | 在不同的 Layer 1 或 Layer 2 链上构建的永续合约 DEX 具有哪些独特的安全考虑？ | ⏳ 待完善 |
| 91 | 协议如何使用复杂的风险引擎来管理每个头寸的保证金和杠杆？ | ⏳ 待完善 |
| 92 | 永续合约 DEX 的治理结构如何影响其整体安全性？ | ⏳ 待完善 |
| 93 | 用户在永续合约 DEX 上保护自己免受安全风险的最佳实践是什么？ | ⏳ 待完善 |
| 94 | 如何设计基于交易量的多级费用结构并在合约中实现？ | ⏳ 待完善 |
| 95 | 如何设计合约以节省Gas方式收集分配不同类型费用给不同利益相关者？ | ⏳ 待完善 |

---

## 📝 问题状态说明

- **✅ 已完成**: 问题已有完整的背景说明和重要性阐述
- **⏳ 待完善**: 问题需要补充更详细的背景说明或技术细节
- **🔄 待更新**: 问题需要根据最新技术发展进行更新
- **❓ 待研究**: 问题需要进一步研究和验证

---

## 🎯 使用建议

1. **学习路径**: 建议按照目录顺序，先掌握通用问题，再深入开发者问题
2. **实践结合**: 每个问题都建议结合实际代码和协议分析
3. **持续更新**: 随着技术发展，定期更新问题内容和状态
4. **深度思考**: 每个问题都包含背景和重要性，建议深入思考其技术原理

---

## 📊 统计信息

- **通用问题**: 135个问题，分为8个子类
- **开发者问题**: 95个问题，分为6个子类
- **总计**: 230个高质量问题
- **完成度**: 所有问题都需要补充详细的背景说明和重要性阐述

---

---

## 📝 回答指南

### 如何回答这些问题？

1. **选择问题**：从表格中选择您感兴趣或需要学习的问题
2. **复制问题**：复制问题描述到您的学习笔记中
3. **添加背景信息**：为每个问题添加背景说明，解释问题的技术背景和重要性
4. **详细回答**：提供准确、详细、有深度的回答
5. **更新状态**：完成回答后，将问题状态从"⏳ 待完善"改为"✅ 已完成"

### 回答格式建议

```markdown
#### 问题X：[问题描述]

**背景：**
[解释问题的技术背景，为什么这个问题重要]

**重要性：**
[说明理解这个问题对于学习永续合约DEX的意义]

**回答：**
[详细回答，包含：
- 核心概念解释
- 技术原理
- 实际应用
- 相关案例或示例
- 代码示例（如果是开发者问题）]
```

### 学习建议

- **循序渐进**：建议按照目录顺序学习，先掌握基础概念
- **理论结合实践**：结合实际协议代码和文档来回答技术问题
- **持续更新**：随着技术发展，定期更新和完善答案
- **深度思考**：不仅要回答"是什么"，还要思考"为什么"和"怎么做"

---

*最后更新时间: 2025年10月*
